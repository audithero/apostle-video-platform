# ==============================================================================
# Apostle Video Platform - Environment Variables
# ==============================================================================
# Copy this file to .env and fill in the values.
#   cp .env-example .env
#
# Variables marked [REQUIRED] must be set for the app to start.
# Variables marked [OPTIONAL] have sensible defaults or are not needed in dev.
# ==============================================================================


# ------------------------------------------------------------------------------
# App / General
# ------------------------------------------------------------------------------

# Base URL of the server. Update for production (e.g. https://yourdomain.com).
SERVER_URL=http://localhost:3000

# Client-side server URL. Must match SERVER_URL. Exposed to the browser via Vite.
# Update for production (e.g. https://yourdomain.com).
VITE_SERVER_URL=http://localhost:3000

# [OPTIONAL] App title shown in the browser tab and UI.
# VITE_APP_TITLE=Apostle


# ------------------------------------------------------------------------------
# Database (Neon Postgres)  [REQUIRED]
# ------------------------------------------------------------------------------
# Get your connection string from the Neon dashboard: https://console.neon.tech
DATABASE_URL=postgresql://neondb_owner:xxxxxxxxxxxx@ep-xxxx.ap-southeast-2.aws.neon.tech/neondb?sslmode=require


# ------------------------------------------------------------------------------
# Authentication (Better Auth)  [REQUIRED]
# ------------------------------------------------------------------------------
# A random secret used to sign session tokens. Generate one with:
#   openssl rand -base64 32
BETTER_AUTH_SECRET=change-me-to-a-random-secret


# ------------------------------------------------------------------------------
# Email (Resend)  [REQUIRED]
# ------------------------------------------------------------------------------
# Get your API key from the Resend dashboard: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxx

# [OPTIONAL] The "from" address for transactional emails.
# Defaults to noreply@example.com if not set. Must be a verified sender in Resend.
# EMAIL_FROM=noreply@yourdomain.com


# ------------------------------------------------------------------------------
# Payments (Stripe)  [REQUIRED]
# ------------------------------------------------------------------------------
# Get these from the Stripe dashboard: https://dashboard.stripe.com/apikeys
# Use sk_test_ / pk_test_ keys for development, sk_live_ / pk_live_ for production.

# Secret key (server-side only, never expose to the client)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxx

# Publishable key (safe to expose to the browser)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxx

# Webhook signing secret. Get from Stripe dashboard > Webhooks > Signing secret.
# For local dev, use the Stripe CLI: stripe listen --forward-to localhost:3000/api/stripe/webhook
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx

# [OPTIONAL] Stripe Price IDs for subscription plans.
# Create these in Stripe dashboard > Products > Pricing.
# The app falls back to placeholder IDs if not set, but subscriptions won't work
# without real Price IDs.
# STRIPE_PRICE_MONTHLY=price_xxxxxxxxxxxx
# STRIPE_PRICE_ANNUAL=price_xxxxxxxxxxxx


# ------------------------------------------------------------------------------
# Video (Mux)  [REQUIRED]
# ------------------------------------------------------------------------------
# Get your access token from the Mux dashboard: https://dashboard.mux.com/settings/access-tokens

# API access token (Token ID and Secret)
MUX_TOKEN_ID=xxxxxxxxxxxx
MUX_TOKEN_SECRET=xxxxxxxxxxxx

# Webhook signing secret. Get from Mux dashboard > Settings > Webhooks.
MUX_WEBHOOK_SECRET=xxxxxxxxxxxx

# [OPTIONAL] Signing key for secure video playback (signed URLs).
# Create in Mux dashboard > Settings > Signing Keys.
# Only needed if you enable signed playback policies on your assets.
# MUX_SIGNING_KEY_ID=xxxxxxxxxxxx
# MUX_SIGNING_KEY_PRIVATE=xxxxxxxxxxxx


# ------------------------------------------------------------------------------
# Object Storage (Cloudflare R2)  [REQUIRED]
# ------------------------------------------------------------------------------
# Get these from the Cloudflare dashboard: https://dash.cloudflare.com
# Navigate to R2 > Overview > Manage R2 API Tokens.

R2_ACCOUNT_ID=xxxxxxxxxxxx
R2_ACCESS_KEY_ID=xxxxxxxxxxxx
R2_SECRET_ACCESS_KEY=xxxxxxxxxxxx

# The name of your R2 bucket.
R2_BUCKET_NAME=apostle-assets

# The public URL for your R2 bucket (custom domain or r2.dev URL).
# Set up a custom domain in Cloudflare dashboard > R2 > your bucket > Settings > Public access.
R2_PUBLIC_URL=https://assets.example.com
